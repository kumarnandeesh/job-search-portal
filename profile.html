<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - JobPortal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">JobPortal</div>
        
        <!-- Desktop Navigation -->
        <div class="nav-links nav-links-desktop">
            <a href="dashboard.html">Jobs</a>
            <a href="profile.html">Profile</a>
            <a href="#" onclick="logout()">Logout</a>
            <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                <span class="theme-icon">ðŸŒ™</span>
            </button>
            <div id="userNav"></div>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="nav-links nav-links-mobile">
            <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                <span class="theme-icon">ðŸŒ™</span>
            </button>
            <div class="profile-dropdown">
                <div class="profile-trigger" onclick="toggleDropdown()">
                    <div class="nav-avatar" id="mobileAvatar">?</div>
                </div>
                <div class="dropdown-menu" id="dropdownMenu">
                    <div class="dropdown-header" id="dropdownUserName">User</div>
                    <div class="dropdown-divider"></div>
                    <a href="dashboard.html">ðŸ’¼ Jobs</a>
                    <a href="profile.html">ðŸ‘¤ Profile</a>
                    <div class="dropdown-divider"></div>
                    <button class="logout-btn" onclick="logout()">ðŸšª Logout</button>
                </div>
            </div>
        </div>
    </nav>
    
    <div class="profile-container">
        <div class="profile-card">
            <div class="profile-header">
                <div class="profile-avatar">
                    <span id="profileInitial">?</span>
                </div>
                <div>
                    <h1 id="profileName" class="profile-name">User Name</h1>
                    <p class="profile-role">Job Seeker</p>
                </div>
            </div>
            
            <div class="profile-details">
                <div class="profile-item">
                    <label>Education</label>
                    <span id="profileEducation">-</span>
                </div>
                <div class="profile-item">
                    <label>Experience</label>
                    <span id="profileExperience">-</span>
                </div>
                <div class="profile-item">
                    <label>Skills</label>
                    <span id="profileSkills">-</span>
                </div>
                <div class="profile-item">
                    <label>Location</label>
                    <span id="profileLocation">-</span>
                </div>
            </div>
            
            <div class="profile-actions">
                <button class="btn btn-secondary" onclick="window.location.href='dashboard.html'">Browse Jobs</button>
                <button class="btn btn-danger" onclick="logout()">Logout</button>
            </div>
        </div>
    </div>
    
    <script src="script/app.js"></script>
    <script>
        // Check authentication and render profile
        if (requireAuth()) {
            initTheme();
            updateNav();
            updateMobileAvatar();
            renderProfile();
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('dropdownMenu');
            const trigger = document.querySelector('.profile-trigger');
            if (dropdown && !dropdown.contains(e.target) && !trigger.contains(e.target)) {
                dropdown.classList.remove('show');
            }
        });
    </script>
</body>
</html>
